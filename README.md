# java-convenience-store-precourse


# 🏪 편의점 할인 관리 시스템
## 🛠️ 주요 기능

### 1. 상품 관리
- 상품 정보 관리 (이름, 가격, 재고)
- 프로모션 상품과 일반 상품 구분 관리
- 실시간 재고 현황 조회

### 2. 프로모션 관리
#### 2.1 프로모션 종류
- **2+1 프로모션**: 2개 구매 시 1개 추가 증정
- **MD 추천 상품**: 1+1 프로모션 적용
- **반짝 할인**: 특별 할인가 적용

#### 2.2 프로모션 적용 로직
- 프로모션 기간 유효성 검증
- 재고 타입별 차감 순서
    1. 프로모션 재고 우선 사용
    2. 프로모션 재고 소진 시 일반 재고 사용
    3. 복합 주문 시 프로모션/일반 재고 연계 처리

### 3. 멤버십 할인
- 프로모션 미적용 상품에 한해 30% 할인
- 최대 할인 금액 8,000원 제한
- 프로모션과 중복 적용 불가

### 4. 재고 관리
- 프로모션 재고와 일반 재고 분리 관리
- 재고 부족 시 주문 불가 처리
- 실시간 재고 업데이트

### 5. 주문 처리
- 다중 상품 동시 주문 지원
- 주문별 할인 금액 계산
- 영수증 출력
    - 구매 상품 내역
    - 증정 상품 내역
    - 총 구매액
    - 할인 내역 (프로모션/멤버십)
    - 최종 결제 금액

### 6. 예외 처리
- 재고 부족 상황 처리
- 잘못된 입력값 검증
- 프로모션 기간 만료 처리


## 🏗️ 시스템 아키텍처
## Controller Layer
### StoreController: 사용자 입력 처리 및 흐름 제어
- 사용자 입력 처리 및 검증
- 주문 프로세스 제어
- 예외 상황 처리

## exception
### ErrorCode
- 예외 코드 및 메시지 관리

## Domain Layer
### Product
- 상품 기본 정보 및 재고 관리 기능 구현
- 프로모션 적용 여부 확인 로직 추가
- 재고 증감 처리 로직 구현

### Order
- 주문 정보 관리 및 가격 계산 로직 구현
- 프로모션 적용 상태 관리 추가

### Cart
- 장바구니 상품 관리 기능 구현
- 프로모션/일반 상품 분류 기능 추가
- 총 금액 계산 로직 구현

### Promotion
- 프로모션 기간 및 조건 관리
- 프로모션 유효성 검증 로직 구현

### PromotionType
- 프로모션 종류 및 할인율 정의
- 프로모션별 구매/증정 수량 관리
- 프로모션 이름 기반 조회 기능 구현

### OrderRequest
- 주문 요청 정보 레코드 타입으로 구현
- 수량 유효성 검증 로직 추가

### YesNo
- 사용자 입력 처리를 위한 enum 타입 구현
- 입력값 검증 및 변환 로직 추가


## Service Layer
### ProductService: 상품 및 재고 관리 로직
- 상품 및 재고 관리
### OrderService: 주문 처리 및 할인 계산 로직
- 주문 처리 및 할인 계산

## Util
### FileReader, OrderParser, Validator
- 파일 읽기/쓰기, 입력값 파싱, 데이터 검증


## View Layer
### InputView, OutputView: 사용자 입출력 처리
- 사용자 인터페이스 구현
- 영수증 출력 포맷팅
- 에러 메시지 출력
